<!DOCTYPE html>
<html>
<body>
<script src="randomColor.js"></script>
<script>
// requestAnim shim layer by Paul Irish
window.requestAnimFrame = (function(){
return  window.requestAnimationFrame       || 
window.webkitRequestAnimationFrame || 
window.mozRequestAnimationFrame    || 
window.oRequestAnimationFrame      || 
window.msRequestAnimationFrame     || 
function(/* function */ callback, /* DOMElement */ element){
window.setTimeout(callback, 1000 / 60);
};
})();
var timeout = new Date().getTime() + .05*60*1000; // 30 sec

// example code from mr doob : http://mrdoob.com/lab/javascript/requestanimationframe/

var canvas, context, toggle;
var centroids=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
init();
animate();

function init() {

canvas = document.createElement( 'canvas' );
canvas.width = 512;
canvas.height = 512;

context = canvas.getContext( '2d' );

document.body.appendChild( canvas );
} 


function animate() {
	for(var i=0; i<10; i++) {
		
		draw(300, 200, 30, 0.5, centroids[i]);
		console.log(i);
	}
//draw(200, 200, 50, 0.5,5);
var requestId = requestAnimFrame(animate);
    // if(new Date().getTime() > timeout){ // measure the length of the function and stop it.
    //     context.clearRect(0,0,canvas.width,canvas.height);  
    //     //draw(300,200,50,0.5,4); 
    // }
}

//lower centroid number/lower intensity, darker color shade
function draw(x, y, radius, opacity, centroids) {

var gradient1 = context.createRadialGradient(x, y, radius/3, x, y, radius);
//var centroids =Math.floor(Math.random()*6)+1;
var c;

    if(centroids ==1) 
    {
        c = randomColor({hue: 'purple', count: 18})[0];
        gradient1.addColorStop(0, "purple");
        gradient1.addColorStop(1, c);
    } 
    else if(centroids ==2) 
    {
        c = randomColor({hue: 'blue', count: 18})[0];
        gradient1.addColorStop(0, "blue");
        gradient1.addColorStop(1, c);
    }
    else if(centroids ==3) 
    {
        c = randomColor({hue: 'green', count: 18})[0];
        gradient1.addColorStop(0, "green");
        gradient1.addColorStop(1, c);
    }
    else if(centroids ==4) 
    {
        c = randomColor({hue: 'yellow', count: 18})[0];
        gradient1.addColorStop(0, "yellow");
        gradient1.addColorStop(1, c);
    }
    else if(centroids ==5) 
    {
        c = randomColor({hue: 'orange', count: 18})[0];
        gradient1.addColorStop(0, "#FF6600");
        gradient1.addColorStop(1, c);
    }
    else{
        c = randomColor({hue: 'red', count: 18})[0];
        gradient1.addColorStop(0, "red");
        gradient1.addColorStop(1, c);

    }

    context.fillStyle = gradient1;
    context.globalAlpha=opacity; //this is the opacity
    context.beginPath();
    context.arc( x, y, radius, 0, Math.PI * 2, true );
    context.closePath();
    context.fill();

    

}
</script>
</html>